<% title "Admin: Details of #{@lesson.title}" %>
<div class="container">

  <h2 class="blank-heading text-center"><%= @lesson.title %></h2>
  <p class="text-center action"><%= link_to 'Back', lessons_path, class: "btn btn-outline-primary" %> <%= link_to 'Edit', edit_lesson_path(@lesson), class: "btn btn-outline-primary" %></p>

  <div class="card">
    <div class="card-block">
      <p>
        <strong>Course:</strong>
        <%= link_to @lesson.course.title, @lesson.course %>
      </p>
      <p>
        <strong>Slug:</strong>
        <%= @lesson.slug %>
      </p>
      <p>
        <strong>Author:</strong>
        <%= @lesson.author %>
      </p>
      <p>
        <strong>Description:</strong>
        <%= @lesson.description %>
      </p>
      <p>
        <strong>Visible:</strong>
        <%= @lesson.visible %>
      </p>
      <p>
        <strong>Unlock:</strong>
        <%= @lesson.unlock %>
      </p>
      <p>
        <strong>Public Feature Video:</strong>
        <%= @lesson.public_feature %>
      </p>
    </div>
  </div>

  <div class="card">
    <div class="card-block">
      <strong>Tagged as:</strong>
      <% @lesson.tags.each do |tag|  %>
        <a href="/search/<%= tag.name %>">#<%= tag.name %></a>
      <% end %>
    </div>
  </div>

  <h2 class="blank-heading text-center">Components</h2>

  <p class="text-center action"><%= link_to 'New Component', new_lesson_component_path, class: "btn btn-outline-primary" %></p>

  <div class="card">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
              <th>Lesson</th>
              <th>Order</th>
              <th>Title</th>
              <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <% @lesson.lesson_components.each do |lesson_component| %>
          <tr>
                <td><%= link_to lesson_component.lesson.title, lesson_component.lesson %></td>
                <td><%= lesson_component.order %></td>
                <td><%= lesson_component.title %></td>
                <td><%= link_to 'Show', lesson_component, class: "btn btn-sm btn-outline-secondary" %> <%= link_to 'Edit', edit_lesson_component_path(lesson_component), class: "btn btn-sm btn-outline-secondary" %> <%= link_to 'Destroy', lesson_component, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-sm btn-outline-danger" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

</div>
